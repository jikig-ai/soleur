<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Changelog - All notable changes to the Soleur plugin.">
  <meta property="og:image" content="https://soleur.ai/images/og-image.png">
  <link rel="icon" type="image/png" href="images/favicon.png">
  <base href="/">
  <title>Changelog - Soleur</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <a href="#main-content" class="skip-link">Skip to main content</a>
  <header class="site-header">
    <a href="index.html" class="logo">Soleur</a>
    <input type="checkbox" id="nav-toggle" class="nav-toggle" aria-hidden="true">
    <label for="nav-toggle" class="nav-toggle-label" aria-label="Toggle navigation">&#9776;</label>
    <ul class="nav-links">
      <li><a href="pages/getting-started.html">Get Started</a></li>
      <li><a href="pages/agents.html">Agents</a></li>
      <li><a href="pages/skills.html">Skills</a></li>
      <li><a href="pages/changelog.html" aria-current="page">Changelog</a></li>
      <li><a href="https://github.com/jikig-ai/soleur" target="_blank" rel="noopener">GitHub</a></li>
      <li><a href="https://discord.gg/PYZbPBKMUY" target="_blank" rel="noopener">Discord</a></li>
    </ul>
  </header>

  <main id="main-content">
    <section class="page-hero">
      <div class="container">
        <h1>Changelog</h1>
        <p>All notable changes to the Soleur plugin.</p>
      </div>
    </section>

    <section class="page-section">
      <div class="container">
        <div id="changelog-content">
          <p style="color: var(--color-text-secondary);">Loading changelog...</p>
        </div>
      </div>
    </section>

    <script>
      (function () {
        var SRC = 'https://raw.githubusercontent.com/jikig-ai/soleur/main/plugins/soleur/CHANGELOG.md';
        var root = document.getElementById('changelog-content');

        function inlineFormat(text, parent) {
          var parts = text.split(/(`[^`]+`)/);
          for (var i = 0; i < parts.length; i++) {
            var part = parts[i];
            if (part.charAt(0) === '`' && part.charAt(part.length - 1) === '`') {
              var code = document.createElement('code');
              code.textContent = part.slice(1, -1);
              parent.appendChild(code);
            } else {
              var boldParts = part.split(/(\*\*[^*]+\*\*)/);
              for (var j = 0; j < boldParts.length; j++) {
                var bp = boldParts[j];
                if (bp.indexOf('**') === 0 && bp.lastIndexOf('**') === bp.length - 2) {
                  var strong = document.createElement('strong');
                  strong.textContent = bp.slice(2, -2);
                  parent.appendChild(strong);
                } else {
                  parent.appendChild(document.createTextNode(bp));
                }
              }
            }
          }
        }

        function render(md) {
          root.textContent = '';
          var lines = md.split('\n');
          var entry = null;
          var ul = null;
          var subUl = null;
          var lastLi = null;

          for (var i = 0; i < lines.length; i++) {
            var line = lines[i];

            if (/^# /.test(line) || /^All notable/.test(line) || /^The format/.test(line) || /^and this project/.test(line)) continue;

            if (line.trim() === '') {
              if (subUl) { lastLi.appendChild(subUl); subUl = null; }
              if (ul) { entry.appendChild(ul); ul = null; }
              lastLi = null;
              continue;
            }

            if (/^## /.test(line)) {
              if (subUl && lastLi) { lastLi.appendChild(subUl); subUl = null; }
              if (ul && entry) { entry.appendChild(ul); ul = null; }
              entry = document.createElement('div');
              entry.className = 'changelog-entry';
              var h2 = document.createElement('h2');
              h2.textContent = line.slice(3);
              entry.appendChild(h2);
              root.appendChild(entry);
              lastLi = null;
              continue;
            }

            if (/^### /.test(line)) {
              if (subUl && lastLi) { lastLi.appendChild(subUl); subUl = null; }
              if (ul && entry) { entry.appendChild(ul); ul = null; }
              var h3 = document.createElement('h3');
              h3.textContent = line.slice(4);
              if (entry) entry.appendChild(h3);
              lastLi = null;
              continue;
            }

            if (/^  +- /.test(line)) {
              if (!subUl) subUl = document.createElement('ul');
              var subLi = document.createElement('li');
              inlineFormat(line.replace(/^\s*- /, ''), subLi);
              subUl.appendChild(subLi);
              continue;
            }

            if (/^- /.test(line)) {
              if (subUl && lastLi) { lastLi.appendChild(subUl); subUl = null; }
              if (!ul) ul = document.createElement('ul');
              var li = document.createElement('li');
              inlineFormat(line.slice(2), li);
              ul.appendChild(li);
              lastLi = li;
              continue;
            }
          }

          if (subUl && lastLi) lastLi.appendChild(subUl);
          if (ul && entry) entry.appendChild(ul);
        }

        fetch(SRC)
          .then(function (r) { return r.text(); })
          .then(render)
          .catch(function () {
            root.textContent = '';
            var p = document.createElement('p');
            p.style.color = 'var(--color-text-secondary)';
            p.textContent = 'Could not load changelog. ';
            var a = document.createElement('a');
            a.href = 'https://github.com/jikig-ai/soleur/blob/main/plugins/soleur/CHANGELOG.md';
            a.textContent = 'View on GitHub';
            p.appendChild(a);
            root.appendChild(p);
          });
      })();
    </script>
  </main>

  <footer class="site-footer">
    <div class="footer-inner">
      <div class="footer-left">
        <div class="footer-mark">S</div>
        <span class="footer-name">Soleur</span>
      </div>
      <ul class="footer-links">
        <li><a href="pages/getting-started.html">Get Started</a></li>
        <li><a href="https://github.com/jikig-ai/soleur" target="_blank" rel="noopener">GitHub</a></li>
        <li><a href="https://discord.gg/PYZbPBKMUY" target="_blank" rel="noopener">Discord</a></li>
      </ul>
      <span class="footer-tagline">Designed, built, and shipped by Soleur &mdash; using Soleur.</span>
    </div>
  </footer>
</body>
</html>
