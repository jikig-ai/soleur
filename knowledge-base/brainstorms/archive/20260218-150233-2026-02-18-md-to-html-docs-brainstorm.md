# Brainstorm: Markdown to HTML Docs Site Skill

**Date:** 2026-02-18
**Issue:** #120
**Status:** Active

## What We're Building

A reusable `docs-site` skill that scaffolds and builds Markdown-based documentation sites using Eleventy (11ty). The skill will be general-purpose -- usable by any project built with Soleur. Soleur's own docs site will be the first consumer, migrated from hand-maintained HTML as part of this work.

Two deliverables in one PR:
1. A `docs-site` skill that any Soleur project can use
2. Migration of Soleur's existing docs from raw HTML to Markdown + Eleventy

## Why This Approach

### Problems Being Solved

1. **Token efficiency** -- Raw HTML with embedded design markup costs ~80KB across 5 pages. Markdown content is semantically cleaner and lighter for LLM operations (~2,400 tokens saved per editing session).
2. **Maintenance burden** -- Adding a new agent or skill requires manually editing HTML cards and syncing component counts across 5+ files. Automating this via a build step eliminates manual sync.
3. **Reusability** -- The docs system should be reusable across multiple projects built with Soleur. Hand-maintained HTML is not portable; an SSG-based approach with templates and data cascade is.
4. **Component count staleness** -- Counts in index, catalog pages, and plugin.json fall out of sync after structural changes. Build-time computation solves this.

### Why Not Just Improve release-docs?

We considered enhancing release-docs to programmatically generate HTML instead of migrating to an SSG. Analysis:
- For Soleur's 5 pages alone, a focused script (~50-80 lines) would suffice
- But generating HTML from data + templates IS what an SSG does -- building a bespoke version reinvents the wheel
- The reusability requirement (other projects) makes a proper SSG the right call
- Eleventy is lightweight (zero client-side JS), uses the JS ecosystem we already have, and supports incremental migration

### Why Eleventy Over Alternatives

- **vs. Hugo:** Go templates are awkward for LLMs. More opinionated directory structure.
- **vs. Jekyll:** GitHub Pages built-in Jekyll uses locked version with limited plugins. Custom needs require CI build step anyway, negating Jekyll's main advantage.
- **Why Eleventy wins:** JS ecosystem (existing package.json), data cascade for variable injection, incremental migration support, zero client-side JS output, well-documented and LLM-friendly syntax.

## Key Decisions

1. **SSG choice:** Eleventy (11ty)
2. **Packaging:** New `docs-site` skill, reusable across projects
3. **Design fidelity:** Same feel, flexible on minor layout/spacing details. Keep dark theme, gold accents, fonts, category colors
4. **Build step:** Accepted. GitHub Actions workflow updated with Eleventy build before deploy
5. **Content authoring:** Hand-authored Markdown for editorial pages (index, getting-started). Catalog pages (agents, skills) can be auto-generated from frontmatter data
6. **Existing CSS:** Keep style.css with CSS layers architecture. Eleventy templates reference it directly

## Scope

### In Scope

- New `docs-site` skill with Eleventy scaffolding and build instructions
- Eleventy project setup with Nunjucks templates for Soleur docs
- Convert 5 HTML pages to Markdown + templates:
  - index.html (landing page)
  - pages/agents.html (agent catalog)
  - pages/skills.html (skill catalog)
  - pages/getting-started.html (installation/workflow)
  - pages/changelog.html (dynamic changelog viewer)
- Preserve existing CSS design system (style.css)
- Data files for version injection from plugin.json
- Updated GitHub Actions deploy-docs workflow with build step
- Update release-docs skill to work with Markdown-based system

### Out of Scope

- Full visual redesign (minor layout tweaks OK)
- New documentation pages beyond existing 5
- Migrating away from GitHub Pages

## Open Questions

1. **Changelog page:** Currently uses client-side JS to fetch and render CHANGELOG.md at runtime. Should this stay as-is (simplest), or should Eleventy render it at build time?
2. **Agent/skill catalog generation:** Should Eleventy pull directly from agent/skill frontmatter via a custom data file, or should release-docs generate intermediate Markdown files?
3. **Skill reusability scope:** How much should the skill abstract? Just scaffolding, or also brand-aware template selection?

## Feasibility Analysis

### Token Savings (Concrete Numbers)

| File | HTML lines | Estimated MD equiv | Savings |
|------|-----------|-------------------|---------|
| agents.html | 359 | ~80 | ~280 lines |
| skills.html | 402 | ~110 | ~290 lines |
| index.html | 185 | ~60 | ~125 lines |
| getting-started.html | 128 | ~50 | ~78 lines |
| changelog.html | 173 | keep as-is | 0 |
| **Total** | **1,247** | **~473** | **~773 lines (~2,400 tokens)** |

New files added: .eleventy.js (~40 lines), base template (~50 lines), partials (~40 lines), data files (~30 lines). **Net savings: ~600 lines.**

### What's Already Solved

- Version badges in HTML removed in v2.9.3 (pentad partially mitigated)
- release-docs already inventories components via frontmatter grepping
- Changelog already dynamic (client-side JS rendering)

### What Justifies the Migration

The modest per-session token savings (~2,400) are secondary. The primary justifications are:
1. **Reusability** -- other projects can use the same docs infrastructure
2. **Maintenance automation** -- catalog pages generated from data, not hand-edited
3. **Build-time data injection** -- counts and version always correct

## Research Findings

### Current Architecture

- 5 HTML pages, 1 CSS file (894 lines with layer architecture), 2 fonts, 3 images
- No build tooling -- raw static HTML deployed via GitHub Pages
- 25 commits to docs/ over 5 days (Feb 13-18, 2026) -- high churn rate
- Dynamic changelog via client-side JS markdown rendering
- release-docs skill inventories components by grepping YAML frontmatter

### Relevant Learnings

- **Version badge cascading** (learnings): Hardcoded version strings identified as "maintenance liability." Build-time generation recommended.
- **Static docs from brand guide** (learnings): CSS variables extracted from brand spec. Component inventory grepping is format-agnostic.
- **Skills category consolidation** (learnings): Content reorganization works regardless of format.
