---
title: "feat: Add SEO and AEO to docs website"
type: feat
date: 2026-02-19
---

# Add SEO and AEO to Docs Website

[Updated 2026-02-19 -- revised after plan review: dropped llms-full.txt (YAGNI), simplified JSON-LD (dropped Organization/BreadcrumbList), build-time only changelog (dropped hybrid), left robots.txt as-is, use page.date for sitemap (no fetch-depth change), added test files, added og:locale]

## Overview

Build a reusable `seo-aeo` skill and `seo-aeo-analyst` agent for Eleventy docs sites, then apply them to soleur.ai as the first customer. The skill provides audit/fix/validate sub-commands. A standalone validation script runs in CI to prevent regressions.

## Problem Statement

Soleur's docs site at soleur.ai lacks structured data (JSON-LD), AI-optimized content (llms.txt), and several SEO fundamentals (canonical URLs, Twitter/X cards, sitemap dates). The changelog page is client-rendered and invisible to crawlers. There is no tooling to audit or fix these issues, and no CI gate to prevent regressions.

## Proposed Solution

Implement in three phases: apply SEO/AEO fixes to soleur.ai, create the reusable skill + agent, then ship.

**Key architectural decisions:**

1. **CI validation is a standalone bash script**, not a Claude-dependent skill invocation. GitHub Actions cannot invoke Claude Code. The script lives at `skills/seo-aeo/scripts/validate-seo.sh` and is called directly by the workflow.
2. **Changelog uses build-time rendering only** -- a `_data/changelog.js` file reads CHANGELOG.md at build time. The existing client-side JS fetch is removed. The build already triggers on CHANGELOG.md changes, so the JS fetch provided no freshness benefit.
3. **Fix sub-command is Claude-driven** -- the SKILL.md instructs Claude to read the current state, analyze gaps, and make targeted edits. Idempotency comes from Claude reading before writing.
4. **Agent lives at `agents/marketing/seo-aeo-analyst.md`** -- SEO/AEO is a marketing concern.
5. **JSON-LD is kept simple** -- WebSite + WebPage on all pages, SoftwareApplication on homepage only. Organization and BreadcrumbList dropped (low value on a flat 5-page site).
6. **robots.txt left as-is** -- `User-agent: *` with `Allow: /` already covers all bots including AI crawlers. Per-bot directives are redundant.

## Technical Considerations

- **Nunjucks frontmatter limitation:** Variables do not resolve in YAML frontmatter. All dynamic meta tags must be in the template body of `base.njk`. Already handled correctly for existing OG tags.
- **URL concatenation:** `{{ site.url }}{{ page.url }}` -- no separator needed, `page.url` starts with `/`.
- **Eleventy v3 ESM:** All data files and config must use `export default` syntax.
- **Sitemap lastmod:** Use Eleventy's `page.date` (defaults to file date). No git-based dates, no `fetch-depth` change needed. Register a custom `dateToRfc3339` Nunjucks filter in `eleventy.config.js` since Eleventy v3 has no built-in date formatting.
- **robots.txt is a passthrough copy** (not a template). It must remain free of Nunjucks expressions. The current static content is correct and sufficient.
- **skills.js category map:** The new skill must be added to the hardcoded `SKILL_CATEGORIES` in `_data/skills.js` under "Content & Release".
- **Data file path resolution:** Use `resolve("plugins/soleur/...")` from CWD in `changelog.js` for consistency with existing data files (`plugin.js`, `stats.js`, `skills.js`).

## Acceptance Criteria

- [x] AC1: Every page has `<link rel="canonical">`, Twitter/X card meta tags, and JSON-LD structured data
- [x] AC2: `llms.txt` exists at site root with project description and page index following llms-txt.org spec
- [x] AC3: `sitemap.xml` includes `<lastmod>` dates for all pages
- [x] AC4: Changelog page content is available to crawlers (build-time rendered, no client-side JS dependency)
- [x] AC5: JSON-LD validates against schema.org (WebSite, WebPage on all pages; SoftwareApplication on homepage)
- [x] AC6: CI validation step in `deploy-docs.yml` blocks deploy when SEO checks fail
- [x] AC7: `seo-aeo` skill exists with audit/fix/validate sub-commands
- [x] AC8: `seo-aeo-analyst` agent exists under `agents/marketing/`
- [x] AC9: Test files exist for `validate-seo.sh` and `changelog.js`

## Test Scenarios

- Given a built `_site/` with all SEO fixes, when `validate-seo.sh` runs, then exit code is 0
- Given a built `_site/` where `<link rel="canonical">` is removed from one page, when `validate-seo.sh` runs, then exit code is 1 and output names the failing page
- Given a fresh checkout of the repo, when `npx @11ty/eleventy` builds, then `_site/llms.txt` exists and contains the project name
- Given the changelog page source, when Eleventy builds, then `_site/pages/changelog.html` contains rendered changelog content (not just "Loading...")
- Given the sitemap template, when Eleventy builds, then every `<url>` in `_site/sitemap.xml` has a `<lastmod>` element
- Given `_site/index.html`, when parsed, then it contains a `<script type="application/ld+json">` block with valid JSON containing `"@type": "SoftwareApplication"`
- Given a mock `_site/` directory missing `llms.txt`, when `validate-seo.sh` runs, then exit code is 1 and output includes "llms.txt missing"
- Given `_data/changelog.js` runs when CHANGELOG.md exists, then it returns an object with non-empty `content` property
- Given `_data/changelog.js` runs when CHANGELOG.md is missing, then it returns an object with empty `content` property

## Dependencies and Risks

- **Risk:** The llms.txt standard may evolve. Mitigation: follow the current spec, keep the format simple, update later.
- **Risk:** Removing the client-side changelog JS is a behavior change. Mitigation: the build already triggers on CHANGELOG.md changes, so build-time rendering has the same freshness.
- **Dependency:** `base.njk` and `sitemap.njk` are modified. Conflicts possible if other PRs touch these.

---

## Implementation Phases

### Phase 1: SEO/AEO Fixes + Skill/Agent

All implementation work in a single coherent changeset.

**1.1 Update `plugins/soleur/docs/_includes/base.njk`**

Add to the `<head>` section after existing OG tags:

```html
<!-- Canonical URL -->
<link rel="canonical" href="{{ site.url }}{{ page.url }}">

<!-- Locale -->
<meta property="og:locale" content="en_US">

<!-- Twitter/X Card -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="{{ title }}{% if title != site.name %} - {{ site.name }}{% endif %}">
<meta name="twitter:description" content="{{ description }}">
<meta name="twitter:image" content="{{ site.url }}/images/og-image.png">

<!-- Enhanced OG tags -->
<meta property="og:site_name" content="{{ site.name }}">
<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="630">
<meta property="og:image:alt" content="{{ site.name }} - {{ site.tagline }}">
```

Add JSON-LD structured data block before `</head>`:

```html
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@graph": [
    {
      "@type": "WebSite",
      "name": "{{ site.name }}",
      "url": "{{ site.url }}",
      "description": "{{ site.description }}"
    },
    {
      "@type": "WebPage",
      "name": "{{ title }}",
      "description": "{{ description }}",
      "url": "{{ site.url }}{{ page.url }}"
    }{% if page.url == "/" or page.url == "/index.html" %},
    {
      "@type": "SoftwareApplication",
      "name": "{{ site.name }}",
      "applicationCategory": "DeveloperApplication",
      "operatingSystem": "macOS, Linux, Windows",
      "softwareVersion": "{{ plugin.version }}",
      "softwareRequirements": "Claude Code CLI",
      "downloadUrl": "{{ site.github }}",
      "releaseNotes": "{{ site.url }}/pages/changelog.html",
      "featureList": "AI Agents, Skills, Commands, Knowledge Compounding, Code Review, Planning, Deployment",
      "author": {
        "@type": "Organization",
        "name": "{{ site.name }}",
        "url": "{{ site.url }}"
      },
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
      }
    }{% endif %}
  ]
}
</script>
```

Note: JSON-LD comma placement uses Nunjucks conditionals. The SoftwareApplication block only appears on the homepage. `site.github` and `plugin.version` come from existing `_data/` files.

**1.2 Convert `plugins/soleur/docs/sitemap.njk` to collection-based**

Replace the hand-maintained URL list with Eleventy collections:

```xml
---
permalink: sitemap.xml
eleventyExcludeFromCollections: true
---
<?xml version="1.0" encoding="utf-8"?>
<urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9">
{%- for entry in collections.all %}
  <url>
    <loc>{{ site.url }}{{ entry.url }}</loc>
    <lastmod>{{ entry.date | dateToRfc3339 }}</lastmod>
  </url>
{%- endfor %}
</urlset>
```

Register a custom `dateToRfc3339` filter in `eleventy.config.js`:

```javascript
eleventyConfig.addFilter("dateToRfc3339", (date) => {
  return new Date(date).toISOString().split("T")[0];
});
```

Pages use Eleventy's default `page.date` (file date). Pages with `eleventyExcludeFromCollections: true` (sitemap, 404) are automatically excluded.

**1.3 Create `plugins/soleur/docs/llms.txt.njk`**

```
---
permalink: llms.txt
eleventyExcludeFromCollections: true
---
# {{ site.name }}

> {{ site.description }}

{{ site.name }} is a Claude Code plugin providing {{ stats.agents }} AI agents, {{ stats.skills }} skills, and {{ stats.commands }} commands for software development workflows. It orchestrates brainstorming, planning, building, reviewing, and shipping software.

## Docs

- [Getting Started]({{ site.url }}/pages/getting-started.html): Installation, prerequisites, and first-run walkthrough
- [Agents]({{ site.url }}/pages/agents.html): Complete catalog of {{ stats.agents }} AI agents organized by domain
- [Skills]({{ site.url }}/pages/skills.html): Reference for all {{ stats.skills }} available skills

## Optional

- [Changelog]({{ site.url }}/pages/changelog.html): Version history and release notes
```

**1.4 Create `plugins/soleur/docs/_data/changelog.js` and update `changelog.njk`**

Data file (ESM, resolves from CWD like existing data files):

```javascript
import { readFile } from "node:fs/promises";
import { resolve } from "node:path";

export default async function () {
  try {
    const content = await readFile(
      resolve("plugins/soleur/CHANGELOG.md"),
      "utf-8"
    );
    return { content };
  } catch {
    return { content: "" };
  }
}
```

Update `plugins/soleur/docs/pages/changelog.njk` to render build-time content directly. Remove the client-side JS fetch and Markdown parser. Use Eleventy's built-in Markdown rendering or a simple Nunjucks filter to convert the Markdown to HTML at build time.

**1.5 Create `plugins/soleur/agents/marketing/seo-aeo-analyst.md`**

Agent with analysis instructions, SEO/AEO checklist, and content generation guidelines. Description uses objective language (not second person): "This agent analyzes documentation sites for SEO and AEO optimization opportunities..."

Must include `<example>` blocks per constitution.

**1.6 Create `plugins/soleur/skills/seo-aeo/SKILL.md`**

Skill with three sub-commands following the community skill pattern (Phase 0 prerequisites, then sub-command sections). Trigger phrases should NOT include `/soleur:` prefix -- skills are invoked as `/seo-aeo`, not `/soleur:seo-aeo`.

Sub-commands:
- `audit` -- Calls the seo-aeo-analyst agent via Task tool, formats the report
- `fix` -- Calls the agent to generate fixes, applies them to source files
- `validate` -- Runs `scripts/validate-seo.sh` and reports results

**1.7 Create `plugins/soleur/skills/seo-aeo/scripts/validate-seo.sh`**

Standalone bash script that checks `_site/` for required SEO elements. See test scenarios for expected behavior. Must be executable (`chmod +x`).

**1.8 Update `plugins/soleur/docs/_data/skills.js`**

Add `"seo-aeo": "Content & Release"` to the `SKILL_CATEGORIES` map.

**1.9 Update `.github/workflows/deploy-docs.yml`**

Add SEO validation step after the Eleventy build, before "Verify build output":

```yaml
- name: Validate SEO
  run: bash plugins/soleur/skills/seo-aeo/scripts/validate-seo.sh _site
```

Update the existing "Verify build output" step to also check for `_site/llms.txt`.

Add `plugins/soleur/skills/seo-aeo/**` to the paths trigger.

**1.10 Update `eleventy.config.js`**

Add the `dateToRfc3339` Nunjucks filter. No passthrough changes needed -- `.njk` templates are already processed.

**1.11 Create test files**

- Test for `validate-seo.sh`: create a mock `_site/` directory with and without required elements, verify exit codes. Can be a bash test script or Bun test.
- Test for `changelog.js`: Bun test that verifies it returns content when CHANGELOG.md exists and empty string when missing.

### Phase 2: Ship

- [ ] Version bump: MINOR (new skill + new agent). Update `plugin.json`, `CHANGELOG.md`, `README.md`.
- [ ] Update `README.md`: increment skill count, agent count, add rows to tables.
- [ ] Build locally (`npx @11ty/eleventy`) and inspect `_site/` output.
- [ ] Run `validate-seo.sh _site` locally -- must pass.
- [ ] Validate JSON-LD at https://validator.schema.org/
- [ ] Check `_site/llms.txt` content.
- [ ] Verify changelog page has rendered content in HTML source.
- [ ] Run `bun test`.
- [ ] Code review, `/soleur:compound`, commit, push, PR.

## Files Changed

### New Files

| File | Purpose |
|------|---------|
| `plugins/soleur/agents/marketing/seo-aeo-analyst.md` | SEO/AEO analysis agent |
| `plugins/soleur/skills/seo-aeo/SKILL.md` | Skill with audit/fix/validate sub-commands |
| `plugins/soleur/skills/seo-aeo/scripts/validate-seo.sh` | Standalone CI validation script |
| `plugins/soleur/docs/llms.txt.njk` | llms.txt template (AI model index) |
| `plugins/soleur/docs/_data/changelog.js` | Build-time changelog reader |
| `tests/validate-seo.test.*` | Tests for validation script |
| `tests/changelog-data.test.js` | Tests for changelog data file |

### Modified Files

| File | Changes |
|------|---------|
| `plugins/soleur/docs/_includes/base.njk` | Add canonical URL, Twitter/X cards, og:locale, OG enhancements, JSON-LD |
| `plugins/soleur/docs/sitemap.njk` | Convert to collection-based with lastmod dates |
| `plugins/soleur/docs/pages/changelog.njk` | Replace client-side JS with build-time rendered content |
| `plugins/soleur/docs/_data/skills.js` | Add seo-aeo to SKILL_CATEGORIES |
| `.github/workflows/deploy-docs.yml` | Add SEO validation step, add llms.txt to verify step, add skill path trigger |
| `eleventy.config.js` | Add dateToRfc3339 Nunjucks filter |
| `plugins/soleur/.claude-plugin/plugin.json` | Version bump (MINOR) |
| `plugins/soleur/CHANGELOG.md` | New version entry |
| `plugins/soleur/README.md` | Update counts and tables |

## Non-Goals (explicit)

- Framework-agnostic support (Eleventy-only for v1)
- Paid SEO tool integrations (Google Search Console, Ahrefs)
- Performance optimization (Core Web Vitals)
- Multi-language/i18n support
- RSS/Atom feed generation
- Per-page OG image generation
- Breadcrumb navigation UI and BreadcrumbList JSON-LD
- Organization JSON-LD schema
- `llms-full.txt` concatenation file
- Per-bot robots.txt directives
- Modifying the `docs-site` scaffold skill (follow-up)

## References

- Brainstorm: `knowledge-base/brainstorms/2026-02-19-seo-aeo-brainstorm.md`
- Spec: `knowledge-base/specs/feat-seo-aeo/spec.md`
- Issue: #131
- llms.txt spec: https://llmstxt.org/
- Schema.org SoftwareApplication: https://schema.org/SoftwareApplication
- Twitter/X Card docs: https://developer.x.com/en/docs/x-for-websites/cards/overview/summary-card-with-large-image
- Eleventy Nunjucks gotcha: `knowledge-base/learnings/build-errors/eleventy-v3-passthrough-and-nunjucks-gotchas.md`
